<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoAwAAFgAAACgAAAAQAAAAIAAAAAEAGAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwAAAMHBSguIewvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwvIusvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwvIusvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwvIesvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjGbEvIuwvIuwvIuwvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwpHtQvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwvIuw1J+wvIuwvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwvIuwcFJQAAAAQCk8vIuwvIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwAAAAeNRJoh1ZSjS1uZe0vIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAvIuwvIuwvIuwAAABDdCUBAQBRjCwLCDovIuwvIuwvIuwAAAAAAAAAAAAAAAAAAAAsIOAvIuwvIuwvIuxSjS0pRhYHCg4vIuwvIuwvIuwuIecAAAAAAAAAAAAAAAAAAAAAAAAkGtgvIuwvIuwvIusvIuwvIuwvIuwvIuwFAxkOC00AAAAAAAAAAAAAAAAAAAAAAAAvIuwjGrsvIuwuIekvIuwuJOQqHtcDAg8vIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwOCkovIuwvIuwvIuwvIuwvIuwvIuwRDGAAAAAAAAAAAAAAAAAAAAAAAAAvIuwvIuwkGrgvIuwvIuwcFI0vIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBi0vIuwvIuwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADxnwAA8B8AAPAfAADwHwAA8B8AAPAfAADgDwAAw4cAAMcHAADFRwAAwYcAAOAfAADgJwAA5A8AAOCfAAD8/wAA" />
    <link rel="stylesheet" type="text/css" href="/css/stack.css">
    <link rel="stylesheet" type="text/css" href="/css/webfonts.css">
    <link rel="stylesheet" type="text/css" href="/css/base.css">
    <link rel="stylesheet" type="text/css" href="css/presentation.css">

    <script src="/js/highlight-8.0.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/solarized_dark.css">

    <script src="/js/jquery-2.1.1.js"></script>
    <script src="/js/underscore-1.6.0.js"></script>
    <script src="/js/async.js"></script>
  </head>
  <body>
    <section class="center">
      <h1>Async JavaScript</h1>
      <h2>Evan Savage</h2>
      <div class="contact">
        <img src="/img/github.png"></img>
        <a href="https://github.com/candu">candu</a>
      </div>
      <div class="contact">
        <img src="/img/twitter.png"></img>
        <a href="https://twitter.com/candusavage">@candusavage</a>
      </div>
    </section>
    <section class="chapter center">
      <h1>i said right this second!</h1>
    </section>
    <section>
      <blockquote>
        The minimum delay, DOM_MIN_TIMEOUT_VALUE, is 4 ms...the timeout can also fire later
        when the page (or the OS/browser itself) is busy with other tasks.
        <footer>
          &ndash; <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window.setTimeout">MDN - window.setTimeout</a>
        </footer>
      </blockquote>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_min_timeout"></code></pre>
      <button id="btn_min_timeout">run it!</button>
      <script id="js_min_timeout">
  $('#btn_min_timeout').click(function() {
    var start = new Date();
    window.setTimeout(function() {
      var elapsed = new Date() - start;
      alert('elapsed: ' + elapsed + ' ms');
    }, 0);
  });
      </script>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_timer_resolution"></code></pre>
      <button id="btn_timer_resolution">run it!</button>
      <script id="js_timer_resolution">
  $('#btn_timer_resolution').click(function() {
    var start = new Date(), numCalls = 0;
    var interval = window.setInterval(function() {
      var elapsed = new Date() - start;
      if (elapsed >= 1000) {
        window.clearInterval(interval);
        alert('numCalls: ' + numCalls);
      }
      numCalls++;
    }, 0);
  });
      </script>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_timeout_waiting"></code></pre>
      <button id="btn_timeout_waiting">run it!</button>
      <script id="js_timeout_waiting">
  $('#btn_timeout_waiting').click(function() {
    var start = new Date();
    window.setTimeout(function() {
      var elapsed = new Date() - start;
      alert('elapsed: ' + elapsed + ' ms');
    }, 0);
    while (new Date() - start < 1000) {}  // busy wait...
  });
      </script>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_dom_waiting"></code></pre>
      <button id="btn_dom_waiting">run it!</button>
      <script id="js_dom_waiting">
  $('#btn_dom_waiting').click(function() {
    $('#btn_dom_waiting').css('background-color', '#f00');
    var start = new Date();
    while (new Date() - start < 1000) {}  // busy wait...
    $('#btn_dom_waiting').css('background-color', '#ff0');
  });
      </script>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_dom_waiting_fixed"></code></pre>
      <button id="btn_dom_waiting_fixed">run it!</button>
      <script id="js_dom_waiting_fixed">
  $('#btn_dom_waiting_fixed').click(function() {
    $('#btn_dom_waiting_fixed').css('background-color', '#f00');
    var start = new Date();
    window.setTimeout(function() {
      while (new Date() - start < 1000) {}  // busy wait...
      $('#btn_dom_waiting_fixed').css('background-color', '#ff0');
    }, 0);
  });
      </script>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_event_queue"></code></pre>
      <button id="btn_event_queue">run it!</button>
      <div id="output_event_queue"></div>
      <script id="js_event_queue">
  $('#btn_event_queue').click(function() {
    $('#output_event_queue').empty();
    _.each(_.range(10), function(i) {
      window.setTimeout(function() {
        var start = new Date(), wait = Math.floor(200 * Math.random());
        while (new Date() - start < wait) {}  // busy wait...
        $('<span />').text(i).appendTo($('#output_event_queue'));
      }, 0);
    })
  });
      </script>
    </section>
    <section class="center">
      <pre><code data-code-target="#js_event_queue_fixed"></code></pre>
      <button id="btn_event_queue_fixed">run it!</button>
      <div id="output_event_queue_fixed"></div>
      <script id="js_event_queue_fixed">
  $('#btn_event_queue_fixed').click(function() {
    $('#output_event_queue_fixed').empty();
    _.each(_.range(10), function(i) {
      var wait = Math.floor(200 * Math.random());
      window.setTimeout(function() {
        var start = new Date();
        $('<span />').text(i).appendTo($('#output_event_queue_fixed'));
      }, wait);  // timeout wait...
    })
  });
      </script>
    </section>
    <!-- stack.js -->
    <script src="/js/d3.js?2.7.3"></script>
    <script src="/js/stack.js"></script>
    <!-- highlighting -->
    <script>
    $(document).ready(function() {
      $('pre > code').each(function(i, block) {
        var codeTarget = $(block).data('codeTarget');
        $(block).text($(codeTarget).html());
        hljs.highlightBlock(block);
      });
    });
    </script>
  </body>
</html>
